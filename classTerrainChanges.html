<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>FreeRCT: TerrainChanges Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FreeRCT
   </div>
   <div id="projectbrief">Build roller coasters, get rich.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTerrainChanges-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TerrainChanges Class Reference<div class="ingroups"><a class="el" href="group__map__group.html">World map data and code</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Store and manage terrain changes.  
 <a href="classTerrainChanges.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="terraform_8h_source.html">terraform.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a751ded354196a9967b07b1913edac838"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a751ded354196a9967b07b1913edac838">TerrainChanges</a> (const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;<a class="el" href="classTerrainChanges.html#aeb8731393eb65b84a503def5a676e4cf">base</a>, <a class="el" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="el" href="classTerrainChanges.html#a74dd41c879b50a1634f61577891d2cf6">xsize</a>, <a class="el" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> <a class="el" href="classTerrainChanges.html#a465461b4ff8fb69809e255f1c175b21b">ysize</a>)</td></tr>
<tr class="memdesc:a751ded354196a9967b07b1913edac838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terrain changes storage constructor.  <a href="#a751ded354196a9967b07b1913edac838">More...</a><br /></td></tr>
<tr class="separator:a751ded354196a9967b07b1913edac838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2866e43a72fe65c76128cd76960b8c8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a2866e43a72fe65c76128cd76960b8c8f">~TerrainChanges</a> ()</td></tr>
<tr class="memdesc:a2866e43a72fe65c76128cd76960b8c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a2866e43a72fe65c76128cd76960b8c8f">More...</a><br /></td></tr>
<tr class="separator:a2866e43a72fe65c76128cd76960b8c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22683a89dbb6ac09be42aff926464f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#af22683a89dbb6ac09be42aff926464f3">UpdatelevellingHeight</a> (const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;pos, int direction, <a class="el" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *height)</td></tr>
<tr class="memdesc:af22683a89dbb6ac09be42aff926464f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test every corner of the given voxel for its original height, and find the extreme value.  <a href="#af22683a89dbb6ac09be42aff926464f3">More...</a><br /></td></tr>
<tr class="separator:af22683a89dbb6ac09be42aff926464f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef18d1ecb73ef6365e069d38654402a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a8ef18d1ecb73ef6365e069d38654402a">ChangeVoxel</a> (const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;pos, <a class="el" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> height, int direction)</td></tr>
<tr class="memdesc:a8ef18d1ecb73ef6365e069d38654402a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change corners of a voxel if they are within the height constraint.  <a href="#a8ef18d1ecb73ef6365e069d38654402a">More...</a><br /></td></tr>
<tr class="separator:a8ef18d1ecb73ef6365e069d38654402a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547519c57041d1f9a1b37bf80066cadd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a547519c57041d1f9a1b37bf80066cadd">ChangeCorner</a> (const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;pos, <a class="el" href="tile_8h.html#ab0aab69fb2fa7bbe83ffe30bd1a0b7a0">TileCorner</a> corner, int direction)</td></tr>
<tr class="memdesc:a547519c57041d1f9a1b37bf80066cadd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the height of a corner.  <a href="#a547519c57041d1f9a1b37bf80066cadd">More...</a><br /></td></tr>
<tr class="separator:a547519c57041d1f9a1b37bf80066cadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d3146d03b663b865545ffef80dc338e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a2d3146d03b663b865545ffef80dc338e">ModifyWorld</a> (int direction)</td></tr>
<tr class="memdesc:a2d3146d03b663b865545ffef80dc338e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform the proposed changes in <a class="el" href="viewport_8cpp.html#a072daf482c5a3aaf1d74d62e5dc91bad" title="Proposed additions to the game world. ">_additions</a> (and committing them afterwards).  <a href="#a2d3146d03b663b865545ffef80dc338e">More...</a><br /></td></tr>
<tr class="separator:a2d3146d03b663b865545ffef80dc338e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aee92ad7b864755ca8ba5e637fa5e1dcc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee92ad7b864755ca8ba5e637fa5e1dcc"></a>
<a class="el" href="group__map__group.html#gac6aa4df2d75e19205f57b81314b33575">GroundModificationMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#aee92ad7b864755ca8ba5e637fa5e1dcc">changes</a></td></tr>
<tr class="memdesc:aee92ad7b864755ca8ba5e637fa5e1dcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registered changes. <br /></td></tr>
<tr class="separator:aee92ad7b864755ca8ba5e637fa5e1dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a761d486debd7db7a5e6bb30265f2a201"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGroundData.html">GroundData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a761d486debd7db7a5e6bb30265f2a201">GetGroundData</a> (const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;pos)</td></tr>
<tr class="memdesc:a761d486debd7db7a5e6bb30265f2a201"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get ground data of a voxel stack.  <a href="#a761d486debd7db7a5e6bb30265f2a201">More...</a><br /></td></tr>
<tr class="separator:a761d486debd7db7a5e6bb30265f2a201"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aeb8731393eb65b84a503def5a676e4cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb8731393eb65b84a503def5a676e4cf"></a>
<a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#aeb8731393eb65b84a503def5a676e4cf">base</a></td></tr>
<tr class="memdesc:aeb8731393eb65b84a503def5a676e4cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base position of the smooth changing world. <br /></td></tr>
<tr class="separator:aeb8731393eb65b84a503def5a676e4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74dd41c879b50a1634f61577891d2cf6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74dd41c879b50a1634f61577891d2cf6"></a>
<a class="el" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a74dd41c879b50a1634f61577891d2cf6">xsize</a></td></tr>
<tr class="memdesc:a74dd41c879b50a1634f61577891d2cf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Horizontal size of the smooth changing world. <br /></td></tr>
<tr class="separator:a74dd41c879b50a1634f61577891d2cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465461b4ff8fb69809e255f1c175b21b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a465461b4ff8fb69809e255f1c175b21b"></a>
<a class="el" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTerrainChanges.html#a465461b4ff8fb69809e255f1c175b21b">ysize</a></td></tr>
<tr class="memdesc:a465461b4ff8fb69809e255f1c175b21b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vertical size of the smooth changing world. <br /></td></tr>
<tr class="separator:a465461b4ff8fb69809e255f1c175b21b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Store and manage terrain changes. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000072">Todo:</a></b></dt><dd>Enable pulling the screen min/max coordinates from it, so we can give a good estimate of the area to redraw.</dd></dl>

<p>Definition at line <a class="el" href="terraform_8h_source.html#l00044">44</a> of file <a class="el" href="terraform_8h_source.html">terraform.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a751ded354196a9967b07b1913edac838"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TerrainChanges::TerrainChanges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>xsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>ysize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terrain changes storage constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>Base coordinate of the part of the world which is smoothly updated. </td></tr>
    <tr><td class="paramname">xsize</td><td>Horizontal size of the world part. </td></tr>
    <tr><td class="paramname">ysize</td><td>Vertical size of the world part. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="terraform_8cpp_source.html#l00114">114</a> of file <a class="el" href="terraform_8cpp_source.html">terraform.cpp</a>.</p>

<p>References <a class="el" href="map_8cpp_source.html#l00027">_world</a>, <a class="el" href="terraform_8h_source.html#l00057">base</a>, <a class="el" href="map_8h_source.html#l00534">VoxelWorld::GetXSize()</a>, <a class="el" href="map_8h_source.html#l00543">VoxelWorld::GetYSize()</a>, <a class="el" href="geometry_8h_source.html#l00036">Point&lt; CT &gt;::x</a>, <a class="el" href="terraform_8h_source.html#l00058">xsize</a>, <a class="el" href="geometry_8h_source.html#l00037">Point&lt; CT &gt;::y</a>, and <a class="el" href="terraform_8h_source.html#l00059">ysize</a>.</p>

</div>
</div>
<a class="anchor" id="a2866e43a72fe65c76128cd76960b8c8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TerrainChanges::~TerrainChanges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="terraform_8cpp_source.html#l00124">124</a> of file <a class="el" href="terraform_8cpp_source.html">terraform.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af22683a89dbb6ac09be42aff926464f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TerrainChanges::UpdatelevellingHeight </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test every corner of the given voxel for its original height, and find the extreme value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Voxel position. </td></tr>
    <tr><td class="paramname">direction</td><td>Levelling direction (decides whether to find the lowest or highest corner). </td></tr>
    <tr><td class="paramname">height</td><td>[inout] Extremest height found so far. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="terraform_8cpp_source.html#l00155">155</a> of file <a class="el" href="terraform_8cpp_source.html">terraform.cpp</a>.</p>

<p>References <a class="el" href="terraform_8cpp_source.html#l00133">GetGroundData()</a>, <a class="el" href="terraform_8cpp_source.html#l00072">GroundData::GetOrigHeight()</a>, <a class="el" href="tile_8h_source.html#l00034">TC_EAST</a>, <a class="el" href="tile_8h_source.html#l00033">TC_NORTH</a>, <a class="el" href="tile_8h_source.html#l00035">TC_SOUTH</a>, and <a class="el" href="tile_8h_source.html#l00036">TC_WEST</a>.</p>

<p>Referenced by <a class="el" href="terraform_8cpp_source.html#l00754">ChangeAreaCursorMode()</a>, and <a class="el" href="terraform_8cpp_source.html#l00690">ChangeTileCursorMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ef18d1ecb73ef6365e069d38654402a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TerrainChanges::ChangeVoxel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change corners of a voxel if they are within the height constraint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Voxel position. </td></tr>
    <tr><td class="paramname">height</td><td>Minimum or maximum height of the corners to modify. </td></tr>
    <tr><td class="paramname">direction</td><td>Levelling direction (decides what constraint to use). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Change is OK for the map. </dd></dl>

<p>Definition at line <a class="el" href="terraform_8cpp_source.html#l00179">179</a> of file <a class="el" href="terraform_8cpp_source.html">terraform.cpp</a>.</p>

<p>References <a class="el" href="terraform_8cpp_source.html#l00204">ChangeCorner()</a>, <a class="el" href="terraform_8cpp_source.html#l00133">GetGroundData()</a>, <a class="el" href="terraform_8cpp_source.html#l00072">GroundData::GetOrigHeight()</a>, <a class="el" href="tile_8h_source.html#l00034">TC_EAST</a>, <a class="el" href="tile_8h_source.html#l00033">TC_NORTH</a>, <a class="el" href="tile_8h_source.html#l00035">TC_SOUTH</a>, and <a class="el" href="tile_8h_source.html#l00036">TC_WEST</a>.</p>

<p>Referenced by <a class="el" href="terraform_8cpp_source.html#l00754">ChangeAreaCursorMode()</a>, and <a class="el" href="terraform_8cpp_source.html#l00690">ChangeTileCursorMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a547519c57041d1f9a1b37bf80066cadd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TerrainChanges::ChangeCorner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tile_8h.html#ab0aab69fb2fa7bbe83ffe30bd1a0b7a0">TileCorner</a>&#160;</td>
          <td class="paramname"><em>corner</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the height of a corner. </p>
<p>Call this function for every corner you want to change. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td><a class="el" href="classPosition.html" title="Position in a source file. ">Position</a> of the voxel stack. </td></tr>
    <tr><td class="paramname">corner</td><td>Corner to change. </td></tr>
    <tr><td class="paramname">direction</td><td>Direction of change. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Change is OK for the map. </dd></dl>

<p>Definition at line <a class="el" href="terraform_8cpp_source.html#l00204">204</a> of file <a class="el" href="terraform_8cpp_source.html">terraform.cpp</a>.</p>

<p>References <a class="el" href="gamemode_8cpp_source.html#l00016">_game_mode_mgr</a>, <a class="el" href="map_8cpp_source.html#l00027">_world</a>, <a class="el" href="terraform_8cpp_source.html#l00028">VoxelCorner::corner</a>, <a class="el" href="terraform_8cpp_source.html#l00102">GroundData::GetCornerModified()</a>, <a class="el" href="terraform_8cpp_source.html#l00133">GetGroundData()</a>, <a class="el" href="terraform_8cpp_source.html#l00072">GroundData::GetOrigHeight()</a>, <a class="el" href="map_8cpp_source.html#l00482">VoxelWorld::GetTileOwner()</a>, <a class="el" href="gamemode_8h_source.html#l00054">GameModeManager::InPlayMode()</a>, <a class="el" href="terraform_8cpp_source.html#l00041">CornerNeighbours::neighbour_tiles</a>, <a class="el" href="map_8h_source.html#l00449">OWN_PARK</a>, <a class="el" href="terraform_8cpp_source.html#l00027">VoxelCorner::rel_xy</a>, <a class="el" href="terraform_8cpp_source.html#l00091">GroundData::SetCornerModified()</a>, <a class="el" href="tile_8h_source.html#l00038">TC_END</a>, <a class="el" href="tile_8h_source.html#l00033">TC_NORTH</a>, <a class="el" href="map_8h_source.html#l00027">WORLD_Z_SIZE</a>, <a class="el" href="geometry_8h_source.html#l00036">Point&lt; CT &gt;::x</a>, and <a class="el" href="geometry_8h_source.html#l00037">Point&lt; CT &gt;::y</a>.</p>

<p>Referenced by <a class="el" href="terraform_8cpp_source.html#l00690">ChangeTileCursorMode()</a>, and <a class="el" href="terraform_8cpp_source.html#l00179">ChangeVoxel()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d3146d03b663b865545ffef80dc338e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TerrainChanges::ModifyWorld </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>direction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform the proposed changes in <a class="el" href="viewport_8cpp.html#a072daf482c5a3aaf1d74d62e5dc91bad" title="Proposed additions to the game world. ">_additions</a> (and committing them afterwards). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">direction</td><td>Direction of change. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the change could actually be performed (else nothing is changed). </dd></dl>

<p>Definition at line <a class="el" href="terraform_8cpp_source.html#l00442">442</a> of file <a class="el" href="terraform_8cpp_source.html">terraform.cpp</a>.</p>

<p>References <a class="el" href="viewport_8cpp_source.html#l00095">_additions</a>, <a class="el" href="viewport_8cpp_source.html#l00096">_mouse_modes</a>, <a class="el" href="terraform_8h_source.html#l00054">changes</a>, <a class="el" href="map_8cpp_source.html#l00651">WorldAdditions::Clear()</a>, <a class="el" href="map_8cpp_source.html#l00660">WorldAdditions::Commit()</a>, <a class="el" href="tile__func_8cpp_source.html#l00053">ComputeCornerHeight()</a>, <a class="el" href="tile__func_8cpp_source.html#l00081">ComputeSlopeAndHeight()</a>, <a class="el" href="tile_8h_source.html#l00158">ExpandTileSlope()</a>, <a class="el" href="tile_8h_source.html#l00212">FDT_INVALID</a>, <a class="el" href="fence_8h_source.html#l00038">FENCE_TYPE_INVALID</a>, <a class="el" href="map_8cpp_source.html#l00216">VoxelStack::Get()</a>, <a class="el" href="map_8cpp_source.html#l00234">VoxelStack::GetCreate()</a>, <a class="el" href="map_8h_source.html#l00130">Voxel::GetFenceType()</a>, <a class="el" href="map_8h_source.html#l00183">Voxel::GetFoundationType()</a>, <a class="el" href="map_8h_source.html#l00215">Voxel::GetGroundSlope()</a>, <a class="el" href="map_8h_source.html#l00224">Voxel::GetGroundType()</a>, <a class="el" href="map_8cpp_source.html#l00675">WorldAdditions::GetModifyStack()</a>, <a class="el" href="viewport_8cpp_source.html#l01771">MouseModes::GetMouseMode()</a>, <a class="el" href="tile_8h_source.html#l00198">GTP_INVALID</a>, <a class="el" href="terraform_8h_source.html#l00022">GroundData::height</a>, <a class="el" href="stdafx_8h_source.html#l00157">lengthof</a>, <a class="el" href="tile__func_8cpp_source.html#l00113">MayHaveGroundFenceInVoxelAbove()</a>, <a class="el" href="viewport_8h_source.html#l00028">MM_TILE_TERRAFORM</a>, <a class="el" href="terraform_8h_source.html#l00024">GroundData::modified</a>, <a class="el" href="terraform_8h_source.html#l00023">GroundData::orig_slope</a>, <a class="el" href="map_8h_source.html#l00144">Voxel::SetFenceType()</a>, <a class="el" href="map_8h_source.html#l00193">Voxel::SetFoundationSlope()</a>, <a class="el" href="map_8h_source.html#l00202">Voxel::SetFoundationType()</a>, <a class="el" href="map_8h_source.html#l00245">Voxel::SetGroundSlope()</a>, <a class="el" href="map_8h_source.html#l00255">Voxel::SetGroundType()</a>, <a class="el" href="terraform_8cpp_source.html#l00253">SetUpperBoundary()</a>, <a class="el" href="terraform_8cpp_source.html#l00353">SetXFoundations()</a>, <a class="el" href="terraform_8cpp_source.html#l00398">SetYFoundations()</a>, <a class="el" href="tile__func_8cpp_source.html#l00130">StoreFenceInUpperVoxel()</a>, <a class="el" href="tile_8h_source.html#l00038">TC_END</a>, <a class="el" href="tile_8h_source.html#l00033">TC_NORTH</a>, <a class="el" href="tile_8h_source.html#l00069">TSB_STEEP</a>, <a class="el" href="map_8h_source.html#l00027">WORLD_Z_SIZE</a>, <a class="el" href="geometry_8h_source.html#l00036">Point&lt; CT &gt;::x</a>, and <a class="el" href="geometry_8h_source.html#l00037">Point&lt; CT &gt;::y</a>.</p>

<p>Referenced by <a class="el" href="terraform_8cpp_source.html#l00754">ChangeAreaCursorMode()</a>, and <a class="el" href="terraform_8cpp_source.html#l00690">ChangeTileCursorMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a761d486debd7db7a5e6bb30265f2a201"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGroundData.html">GroundData</a> * TerrainChanges::GetGroundData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="geometry_8h.html#a054a81790686800ec9933add2c1a5df1">Point32</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get ground data of a voxel stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td><a class="el" href="structVoxel.html" title="One voxel cell in the world. ">Voxel</a> stack position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the ground data, or <code>nullptr</code> if outside the world. </dd></dl>

<p>Definition at line <a class="el" href="terraform_8cpp_source.html#l00133">133</a> of file <a class="el" href="terraform_8cpp_source.html">terraform.cpp</a>.</p>

<p>References <a class="el" href="map_8cpp_source.html#l00027">_world</a>, <a class="el" href="terraform_8h_source.html#l00054">changes</a>, <a class="el" href="tile_8h_source.html#l00158">ExpandTileSlope()</a>, <a class="el" href="map_8cpp_source.html#l00468">VoxelWorld::GetGroundHeight()</a>, <a class="el" href="map_8h_source.html#l00215">Voxel::GetGroundSlope()</a>, <a class="el" href="map_8h_source.html#l00224">Voxel::GetGroundType()</a>, <a class="el" href="map_8h_source.html#l00514">VoxelWorld::GetVoxel()</a>, <a class="el" href="tile_8h_source.html#l00198">GTP_INVALID</a>, <a class="el" href="geometry_8h_source.html#l00036">Point&lt; CT &gt;::x</a>, and <a class="el" href="geometry_8h_source.html#l00037">Point&lt; CT &gt;::y</a>.</p>

<p>Referenced by <a class="el" href="terraform_8cpp_source.html#l00204">ChangeCorner()</a>, <a class="el" href="terraform_8cpp_source.html#l00179">ChangeVoxel()</a>, and <a class="el" href="terraform_8cpp_source.html#l00155">UpdatelevellingHeight()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="terraform_8h_source.html">terraform.h</a></li>
<li><a class="el" href="terraform_8cpp_source.html">terraform.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 25 2015 13:22:41 for FreeRCT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
