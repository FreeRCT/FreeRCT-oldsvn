<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>FreeRCT: shop_type.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FreeRCT
   </div>
   <div id="projectbrief">Build roller coasters, get rich.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">shop_type.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="shop__type_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* $Id$ */</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * This file is part of FreeRCT.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * FreeRCT is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 2.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * FreeRCT is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with FreeRCT. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stdafx_8h.html">stdafx.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">map.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="shop__type_8h.html">shop_type.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="person_8h.html">person.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="people_8h.html">people.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fileio_8h.html">fileio.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;generated/shops_strings.cpp&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="shop__type_8cpp.html#ace1813a1ffcd88d2994a131ad7c23d34">   21</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="shop__type_8cpp.html#ace1813a1ffcd88d2994a131ad7c23d34">TOILET_TIME</a> = 5000;  </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="shop__type_8cpp.html#a68fbdf29ab29bb2689f889c560cfc176">   22</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="shop__type_8cpp.html#a68fbdf29ab29bb2689f889c560cfc176">CAPACITY_TOILET</a> = 2; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;ShopType::ShopType() : <a class="code" href="classRideType.html">RideType</a>(<a class="code" href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6ea601a3d6676990bba5aa8efaf582f5bad">RTK_SHOP</a>)</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        this-&gt;height = 0;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        std::fill_n(this-&gt;views, <a class="code" href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a>(this-&gt;views), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;ShopType::~ShopType()</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="comment">/* Images and texts are handled by the sprite collector, no need to release its memory here. */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classShopType.html#a5266ed9585a435648f9e3092c2834a2c">   35</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classImageData.html">ImageData</a> *<a class="code" href="classShopType.html#a5266ed9585a435648f9e3092c2834a2c">ShopType::GetView</a>(<a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> orientation)<span class="keyword"> const</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> (orientation &lt; 4) ? this-&gt;<a class="code" href="classShopType.html#a9e73bbca06f68b19af0901f17613f946">views</a>[orientation] : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="classShopType.html#acb07a93f5bb7ae48eac8d9ba7ab38abf">   40</a></span>&#160;<a class="code" href="classRideInstance.html">RideInstance</a> *<a class="code" href="classShopType.html#acb07a93f5bb7ae48eac8d9ba7ab38abf">ShopType::CreateInstance</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classShopInstance.html">ShopInstance</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="shop__type_8cpp.html#a07f0a7d7eb2961f891f66297f0c1deee">   50</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="shop__type_8cpp.html#a07f0a7d7eb2961f891f66297f0c1deee">IsValidItemType</a>(<a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> val)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">switch</span> (val) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba01fdd13e502d6b0befebb5714926967e">ITP_NOTHING</a>:</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66bad7d68c8e9b2dfff50e415352049f8b52">ITP_DRINK</a>:</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba4c685f57abb138b1fe72a112c6738d8c">ITP_ICE_CREAM</a>:</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba857b349598ed3eaf4337e81635b170b8">ITP_NORMAL_FOOD</a>:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66baa8d9ba621a5d756b7e04707cc6ff1300">ITP_SALTY_FOOD</a>:</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba1afec2d70a9f0ab227f8438216a00d59">ITP_UMBRELLA</a>:</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66babd3f302380d871d6d8b49f7caa1fa0f9">ITP_BALLOON</a>:</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba2e5b7e0dc918ef11f7ae3d12b0d9148c">ITP_PARK_MAP</a>:</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66baf21184b1c173503ffe249e3aed05b4f9">ITP_SOUVENIR</a>:</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba101fa51d8f6f256b96427db756015bc3">ITP_MONEY</a>:</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba49d60fedcf69b0d73760393e2f58ea53">ITP_TOILET</a>:</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba4d9b5c90d853a6139a3ee309ad8b5145">ITP_FIRST_AID</a>:</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classShopType.html#a51c574abfadf7dc64f6f54dbf8a3fff1">   79</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classShopType.html#a51c574abfadf7dc64f6f54dbf8a3fff1">ShopType::Load</a>(<a class="code" href="classRcdFileReader.html">RcdFileReader</a> *rcd_file, <span class="keyword">const</span> <a class="code" href="sprite__store_8h.html#a88932b0cbbb95cd50df52f1aa1db5aec">ImageMap</a> &amp;sprites, <span class="keyword">const</span> <a class="code" href="sprite__store_8h.html#abc2cb6800cfaa28d8beab04eb7f570e2">TextMap</a> &amp;texts)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">if</span> (rcd_file-&gt;<a class="code" href="classRcdFileReader.html#a80f7d60ee982feea0deb0019d109f166">version</a> != 5 || rcd_file-&gt;<a class="code" href="classRcdFileReader.html#acc10d042cc834e8066ea482d96099b7f">size</a> != 2 + 1 + 1 + 4 * 4 + 3 * 4 + 4 * 4 + 2 + 4) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> width = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#a89183bbdb700245f90e766c1bf3f2a65">GetUInt16</a>(); </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        this-&gt;<a class="code" href="classShopType.html#aeec1e71debdfda40fe02ddbc62322037">height</a> = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#aa3ac193cae3b6220820e5872e9b2e861">GetUInt8</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classShopType.html#aeec1e71debdfda40fe02ddbc62322037">height</a> != 1) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Other heights may fail.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        this-&gt;<a class="code" href="classShopType.html#aaf9ff3772a3b81fb9b851756e97b6c1f">flags</a> = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#aa3ac193cae3b6220820e5872e9b2e861">GetUInt8</a>() &amp; 0xF;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <a class="code" href="classImageData.html">ImageData</a> *view;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="sprite__store_8cpp.html#ac4ac427c47e0d22106615d2cd31ed788">LoadSpriteFromFile</a>(rcd_file, sprites, &amp;view)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="keywordflow">if</span> (width != 64) <span class="keywordflow">continue</span>; <span class="comment">// Silently discard other sizes.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                this-&gt;<a class="code" href="classShopType.html#a9e73bbca06f68b19af0901f17613f946">views</a>[i] = view;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i = 0; i &lt; 3; i++) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <a class="code" href="stdafx_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> recolour = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#af340eb3acbef83179fcce42c8b8688ae">GetUInt32</a>();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                this-&gt;<a class="code" href="classRideType.html#a6d5abcfa5aa8e062dde693b24d5aef07">recolours</a>.<a class="code" href="classRecolouring.html#a2377374d108a0abc354d21e5ef3b50ee">Set</a>(i, <a class="code" href="structRecolourEntry.html">RecolourEntry</a>(recolour));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">item_cost</a>[0] = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#af38ae8760a8cd11ae82f099acb72273a">GetInt32</a>();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">item_cost</a>[1] = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#af38ae8760a8cd11ae82f099acb72273a">GetInt32</a>();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        this-&gt;<a class="code" href="classRideType.html#af0934af452c487e044af57bd7369efe3">monthly_cost</a> = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#af38ae8760a8cd11ae82f099acb72273a">GetInt32</a>();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        this-&gt;<a class="code" href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">monthly_open_cost</a> = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#af38ae8760a8cd11ae82f099acb72273a">GetInt32</a>();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> val = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#aa3ac193cae3b6220820e5872e9b2e861">GetUInt8</a>();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="shop__type_8cpp.html#a07f0a7d7eb2961f891f66297f0c1deee">IsValidItemType</a>(val)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a7ffa6cbcc4f38daed727cf44bab8fb29">item_type</a>[0] = (<a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66b">ItemType</a>)val;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        val = rcd_file-&gt;<a class="code" href="classRcdFileReader.html#aa3ac193cae3b6220820e5872e9b2e861">GetUInt8</a>();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="shop__type_8cpp.html#a07f0a7d7eb2961f891f66297f0c1deee">IsValidItemType</a>(val)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a7ffa6cbcc4f38daed727cf44bab8fb29">item_type</a>[1] = (<a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66b">ItemType</a>)val;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="classTextData.html">TextData</a> *text_data;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="sprite__store_8cpp.html#a66642f688701c1314d3a395b58e9b9c5">LoadTextFromFile</a>(rcd_file, texts, &amp;text_data)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> base = <a class="code" href="language_8cpp.html#a84f8cd51a85dd287a5bc696a48b8c9b1">_language</a>.<a class="code" href="classLanguage.html#aa0fc315fd2796b11055e3fc55823ef88">RegisterStrings</a>(*text_data, _shops_strings_table);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        this-&gt;<a class="code" href="classRideType.html#a59b58992271c0a0d94fa6a484446f1f8">SetupStrings</a>(text_data, base, <a class="code" href="language_8h.html#ad036a1e65b4bdd8fae40d77d7324512aa13d88bd9d76aba82257ab66f831f0d45">STR_GENERIC_SHOP_START</a>, SHOPS_STRING_TABLE_END, SHOPS_NAME_TYPE, SHOPS_DESCRIPTION_TYPE);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classShopType.html#ab70519c7c252449cc3adddacb9980227">  122</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classShopType.html#ab70519c7c252449cc3adddacb9980227">ShopType::GetRideCapacity</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a>; i++) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classRideType.html#a7ffa6cbcc4f38daed727cf44bab8fb29">item_type</a>[i] == <a class="code" href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba49d60fedcf69b0d73760393e2f58ea53">ITP_TOILET</a>) <span class="keywordflow">return</span> 1 | (<a class="code" href="shop__type_8cpp.html#a68fbdf29ab29bb2689f889c560cfc176">CAPACITY_TOILET</a> &lt;&lt; 8);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classShopType.html#a64c26c941f2388f00511a2fffd18780b">  130</a></span>&#160;<span class="keyword">const</span> <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> *<a class="code" href="classShopType.html#a64c26c941f2388f00511a2fffd18780b">ShopType::GetInstanceNames</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a> names[] = {SHOPS_NAME_INSTANCE1, SHOPS_NAME_INSTANCE2, <a class="code" href="language_8h.html#ad036a1e65b4bdd8fae40d77d7324512aa942647b68e5a28d558a5453961acc5f2">STR_INVALID</a>};</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">return</span> names;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classShopInstance.html#a8ea7cf63257759688d238eb4c57d7650">  140</a></span>&#160;<a class="code" href="classShopInstance.html#a8ea7cf63257759688d238eb4c57d7650">ShopInstance::ShopInstance</a>(<span class="keyword">const</span> <a class="code" href="classShopType.html">ShopType</a> *type) : <a class="code" href="classRideInstance.html">RideInstance</a>(type)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        this-&gt;<a class="code" href="classShopInstance.html#ac11be40f1a0d9d13f4cd0596fbf12caf">orientation</a> = 0;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordtype">int</span> capacity = type-&gt;<a class="code" href="classShopType.html#ab70519c7c252449cc3adddacb9980227">GetRideCapacity</a>();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        assert(capacity == 0 || (capacity &amp; 0xFF) == 1); </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#af2a558599a81ff3acafc3bcfe73b9930">Configure</a>(capacity &amp; 0xFF, capacity &gt;&gt; 8);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;ShopInstance::~ShopInstance()</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classShopInstance.html#adcf705be2f439877bb4804ba73e9ec57">  157</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classShopType.html">ShopType</a> *<a class="code" href="classShopInstance.html#adcf705be2f439877bb4804ba73e9ec57">ShopInstance::GetShopType</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        assert(this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#acf5f7d1b00f5303570472b4c178433b2">kind</a> == <a class="code" href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6ea601a3d6676990bba5aa8efaf582f5bad">RTK_SHOP</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classShopType.html">ShopType</a> *<span class="keyword">&gt;</span>(this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classShopInstance.html#a4b96d80aff71233b7add60c01d7d9b36">  163</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classShopInstance.html#a4b96d80aff71233b7add60c01d7d9b36">ShopInstance::GetSprites</a>(<a class="code" href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> voxel_number, <a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> orient, <span class="keyword">const</span> <a class="code" href="classImageData.html">ImageData</a> *sprites[4])<span class="keyword"> const</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        sprites[0] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        sprites[1] = this-&gt;<a class="code" href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">type</a>-&gt;<a class="code" href="classRideType.html#a1eaebd6b26d7c8f719d176f7930a6f16">GetView</a>((4 + this-&gt;<a class="code" href="classShopInstance.html#ac11be40f1a0d9d13f4cd0596fbf12caf">orientation</a> - orient) &amp; 3);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        sprites[2] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        sprites[3] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classShopInstance.html#ab12938d435acf21ebcd54a60e93ee402">  176</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classShopInstance.html#ab12938d435acf21ebcd54a60e93ee402">ShopInstance::SetRide</a>(<a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> orientation, <span class="keyword">const</span> <a class="code" href="structXYZPoint.html">XYZPoint16</a> &amp;pos)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        assert(this-&gt;<a class="code" href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">state</a> == <a class="code" href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        assert(<a class="code" href="group__map__group.html#gae1beaf14b9effb4a54e82830c7b36616">_world</a>.<a class="code" href="classVoxelWorld.html#aa6c9196b8ab77fea05827e90979f6fa2">GetTileOwner</a>(pos.<a class="code" href="structXYZPoint.html#a77a7984ac0a26ecb76acb94bbcf96a48">x</a>, pos.<a class="code" href="structXYZPoint.html#aea2c3552caee6e81c3b007ff78834b99">y</a>) == <a class="code" href="map_8h.html#a3eb46b16632a09b0b18530aca51dcfe3a9e25c348e5b9bb47b1357ea1fef3bfc1">OWN_PARK</a>); <span class="comment">// May only place it in your own park.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        this-&gt;orientation = <a class="code" href="classShopInstance.html#ac11be40f1a0d9d13f4cd0596fbf12caf">orientation</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        this-&gt;<a class="code" href="classShopInstance.html#ab5a17490adf512fed4b0097d3f238ebd">vox_pos</a> = pos;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        this-&gt;<a class="code" href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">flags</a> = 0;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classShopInstance.html#a7b1d54b9e537ae62463c947d66d5aa02">  186</a></span>&#160;<a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="classShopInstance.html#a7b1d54b9e537ae62463c947d66d5aa02">ShopInstance::GetEntranceDirections</a>(<span class="keyword">const</span> <a class="code" href="structXYZPoint.html">XYZPoint16</a> &amp;vox)<span class="keyword"> const</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span> (vox != this-&gt;<a class="code" href="classShopInstance.html#ab5a17490adf512fed4b0097d3f238ebd">vox_pos</a>) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <a class="code" href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> entrances = this-&gt;<a class="code" href="classShopInstance.html#adcf705be2f439877bb4804ba73e9ec57">GetShopType</a>()-&gt;<a class="code" href="classShopType.html#aaf9ff3772a3b81fb9b851756e97b6c1f">flags</a> &amp; <a class="code" href="ride__type_8h.html#aab3029d4a290b11c59df64561465bbc4aaf6fc7882ac56bee372aaa10183a87cc">SHF_ENTRANCE_BITS</a>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="bitmath_8h.html#ae3acb90f5083b3a0d29065ad12a999ad">ROL</a>(entrances, 4, this-&gt;<a class="code" href="classShopInstance.html#ac11be40f1a0d9d13f4cd0596fbf12caf">orientation</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classShopInstance.html#a90fc0648370618e2bf99f206dacd51f1">  194</a></span>&#160;<a class="code" href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431">RideEntryResult</a> <a class="code" href="classShopInstance.html#a90fc0648370618e2bf99f206dacd51f1">ShopInstance::EnterRide</a>(<span class="keywordtype">int</span> guest, <a class="code" href="group__map__group.html#ga29bb8f9503c34074bad3c762c92ee68b">TileEdge</a> entry)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#aec2e7a906875e06e8347139a353e86db">num_batches</a> == 0) { <span class="comment">// No onride guests, handle it all now.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <a class="code" href="classGuest.html">Guest</a> *g = <a class="code" href="people_8cpp.html#a1b1655e98ce1397c843e98b36d94ddf5">_guests</a>.<a class="code" href="classGuests.html#a30760025c5877ec6d00b5e6238f1618e">Get</a>(guest);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                g-&gt;<a class="code" href="classGuest.html#a91a0836b65be2e7b42bf919b871154fb">ExitRide</a>(<span class="keyword">this</span>, entry);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431a9d8795ddfa2f992283b00cf936b21517">RER_DONE</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">/* Guest should wait for the ride to finish, find a spot. */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordtype">int</span> free_batch = this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#a1e228491f79ba239a467bae3f9097c1f">GetFreeBatch</a>();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">if</span> (free_batch &gt;= 0) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                <a class="code" href="structGuestBatch.html">GuestBatch</a> &amp;gb = this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#ab670b8a1617be245f51df0cb01126c98">GetBatch</a>(free_batch);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                <span class="keywordflow">if</span> (gb.<a class="code" href="structGuestBatch.html#aa87f17cfac340bc45cd6cc490a6962c4">AddGuest</a>(guest, entry)) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                        gb.<a class="code" href="structGuestBatch.html#ac8e67a088bcd1b2256da88dd336d09e6">Start</a>(<a class="code" href="shop__type_8cpp.html#ace1813a1ffcd88d2994a131ad7c23d34">TOILET_TIME</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431ac147ce2a7fbd640a26ba442669268937">RER_ENTERED</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431aaa5a11356e409a8b26406d1cef9d6b83">RER_REFUSED</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classShopInstance.html#ae451f7291524c72d1d852e649d9e6f6c">  214</a></span>&#160;<a class="code" href="structXYZPoint.html">XYZPoint32</a> <a class="code" href="classShopInstance.html#ae451f7291524c72d1d852e649d9e6f6c">ShopInstance::GetExit</a>(<span class="keywordtype">int</span> guest, <a class="code" href="group__map__group.html#ga29bb8f9503c34074bad3c762c92ee68b">TileEdge</a> entry_edge)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="comment">/* Put the guest just outside the ride. */</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="structPoint.html">Point16</a> dxy = <a class="code" href="tile_8h.html#ae90e8f9348886287b4d15f3dc00cc7f1">_exit_dxy</a>[(entry_edge + 2) % 4];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="geometry_8h.html#ad44b56387be4716a93eb09e15466703d">XYZPoint32</a>(this-&gt;<a class="code" href="classShopInstance.html#ab5a17490adf512fed4b0097d3f238ebd">vox_pos</a>.<a class="code" href="structXYZPoint.html#a77a7984ac0a26ecb76acb94bbcf96a48">x</a> * 256 + dxy.<a class="code" href="structPoint.html#af0836c7f2eec563aa7bc20d8cfa5dd2a">x</a>, this-&gt;vox_pos.y * 256 + dxy.<a class="code" href="structPoint.html#a56c3dcea91f03182921eea9a5cf555a3">y</a>, this-&gt;vox_pos.z * 256);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="classShopInstance.html#a62cecc0440780d615a3c78338b6e8799">  222</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classShopInstance.html#a62cecc0440780d615a3c78338b6e8799">ShopInstance::RemoveAllPeople</a>()</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;{</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="structGuestBatch.html">GuestBatch</a> &amp;gb : this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#afdb35f742ccacfa575846d740312e9ff">batches</a>) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">if</span> (gb.<a class="code" href="structGuestBatch.html#ac15f7bc0293f2a1c1be71c34e578bae9">state</a> == <a class="code" href="guest__batches_8h.html#a23c1df06ce45721ee01fd8560846ce9bab4d4d9a41fae745af1407ce80ba0abb4">BST_EMPTY</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <span class="keywordflow">for</span> (<a class="code" href="structGuestData.html">GuestData</a> &amp;gd : gb.<a class="code" href="structGuestBatch.html#a01a6af8dfdbaa56d5c37becc9273f38c">guests</a>) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        <span class="keywordflow">if</span> (!gd.<a class="code" href="structGuestData.html#a6ce055674f0d005101ca5ac9864ee77e">IsEmpty</a>()) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                <a class="code" href="classGuest.html">Guest</a> *g = <a class="code" href="people_8cpp.html#a1b1655e98ce1397c843e98b36d94ddf5">_guests</a>.<a class="code" href="classGuests.html#a30760025c5877ec6d00b5e6238f1618e">Get</a>(gd.<a class="code" href="structGuestData.html#ace778f3a11090c3a6b7c777c9a030e81">guest</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                g-&gt;<a class="code" href="classGuest.html#a91a0836b65be2e7b42bf919b871154fb">ExitRide</a>(<span class="keyword">this</span>, gd.<a class="code" href="structGuestData.html#a22430634fd38b9799c04c628f0442653">entry</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                                gd.<a class="code" href="structGuestData.html#a5ba053bd91a5a6d8f039c01faf1578fc">Clear</a>();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                        }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                gb.<a class="code" href="structGuestBatch.html#ac15f7bc0293f2a1c1be71c34e578bae9">state</a> = <a class="code" href="guest__batches_8h.html#a23c1df06ce45721ee01fd8560846ce9bab4d4d9a41fae745af1407ce80ba0abb4">BST_EMPTY</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;}</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classShopInstance.html#ac46d7a6bd7914e4739fdf7b3a3793564">  239</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classShopInstance.html#ac46d7a6bd7914e4739fdf7b3a3793564">ShopInstance::OnAnimate</a>(<span class="keywordtype">int</span> delay)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#ab8d05c76988fe43c16d7a07381a3e7e6">OnAnimate</a>(delay); <span class="comment">// Update remaining time of onride guests.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">/* Kick out guests that are done. */</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordtype">int</span> start = -1;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                start = this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#a7f8edbbbaf7d977a5b7a6fa6e532f0bb">GetFinishedBatch</a>(start);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">if</span> (start &lt; 0) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <a class="code" href="structGuestBatch.html">GuestBatch</a> &amp;gb = this-&gt;<a class="code" href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">onride_guests</a>.<a class="code" href="classOnRideGuests.html#afdb35f742ccacfa575846d740312e9ff">batches</a>.at(start);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <a class="code" href="structGuestData.html">GuestData</a> &amp; gd = gb.<a class="code" href="structGuestBatch.html#a01a6af8dfdbaa56d5c37becc9273f38c">guests</a>[0];</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <span class="keywordflow">if</span> (!gd.<a class="code" href="structGuestData.html#a6ce055674f0d005101ca5ac9864ee77e">IsEmpty</a>()) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        <a class="code" href="classGuest.html">Guest</a> *g = <a class="code" href="people_8cpp.html#a1b1655e98ce1397c843e98b36d94ddf5">_guests</a>.<a class="code" href="classGuests.html#a30760025c5877ec6d00b5e6238f1618e">Get</a>(gd.<a class="code" href="structGuestData.html#ace778f3a11090c3a6b7c777c9a030e81">guest</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        g-&gt;<a class="code" href="classGuest.html#a91a0836b65be2e7b42bf919b871154fb">ExitRide</a>(<span class="keyword">this</span>, gd.<a class="code" href="structGuestData.html#a22430634fd38b9799c04c628f0442653">entry</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        gd.<a class="code" href="structGuestData.html#a5ba053bd91a5a6d8f039c01faf1578fc">Clear</a>();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                gb.<a class="code" href="structGuestBatch.html#ac15f7bc0293f2a1c1be71c34e578bae9">state</a> = <a class="code" href="guest__batches_8h.html#a23c1df06ce45721ee01fd8560846ce9bab4d4d9a41fae745af1407ce80ba0abb4">BST_EMPTY</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="ttc" id="classRideInstance_html_a1474fde9864c8a9789bc69c06ce60554"><div class="ttname"><a href="classRideInstance.html#a1474fde9864c8a9789bc69c06ce60554">RideInstance::type</a></div><div class="ttdeci">const RideType * type</div><div class="ttdoc">Ride type used. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00178">ride_type.h:178</a></div></div>
<div class="ttc" id="ride__type_8h_html_a7db2980a108b7cb683f55e882cdb1431aaa5a11356e409a8b26406d1cef9d6b83"><div class="ttname"><a href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431aaa5a11356e409a8b26406d1cef9d6b83">RER_REFUSED</a></div><div class="ttdoc">Entry is refused. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00125">ride_type.h:125</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba857b349598ed3eaf4337e81635b170b8"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba857b349598ed3eaf4337e81635b170b8">ITP_NORMAL_FOOD</a></div><div class="ttdoc">&#39;plain&#39; food. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00057">ride_type.h:57</a></div></div>
<div class="ttc" id="sprite__store_8cpp_html_ac4ac427c47e0d22106615d2cd31ed788"><div class="ttname"><a href="sprite__store_8cpp.html#ac4ac427c47e0d22106615d2cd31ed788">LoadSpriteFromFile</a></div><div class="ttdeci">bool LoadSpriteFromFile(RcdFileReader *rcd_file, const ImageMap &amp;sprites, ImageData **spr)</div><div class="ttdoc">Get a sprite reference from the rcd_file, retrieve the corresponding sprite, and put it in the spr de...</div><div class="ttdef"><b>Definition:</b> <a href="sprite__store_8cpp_source.html#l00256">sprite_store.cpp:256</a></div></div>
<div class="ttc" id="shop__type_8cpp_html_a07f0a7d7eb2961f891f66297f0c1deee"><div class="ttname"><a href="shop__type_8cpp.html#a07f0a7d7eb2961f891f66297f0c1deee">IsValidItemType</a></div><div class="ttdeci">static bool IsValidItemType(uint8 val)</div><div class="ttdoc">Can the given value be safely interpreted as item type to sell? </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00050">shop_type.cpp:50</a></div></div>
<div class="ttc" id="structXYZPoint_html_a77a7984ac0a26ecb76acb94bbcf96a48"><div class="ttname"><a href="structXYZPoint.html#a77a7984ac0a26ecb76acb94bbcf96a48">XYZPoint::x</a></div><div class="ttdeci">CT x</div><div class="ttdoc">X coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00100">geometry.h:100</a></div></div>
<div class="ttc" id="people_8h_html"><div class="ttname"><a href="people_8h.html">people.h</a></div><div class="ttdoc">Declarations for people in the world. </div></div>
<div class="ttc" id="structGuestData_html_a6ce055674f0d005101ca5ac9864ee77e"><div class="ttname"><a href="structGuestData.html#a6ce055674f0d005101ca5ac9864ee77e">GuestData::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const </div><div class="ttdoc">Is the entry in use? </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00034">guest_batches.h:34</a></div></div>
<div class="ttc" id="structGuestBatch_html"><div class="ttname"><a href="structGuestBatch.html">GuestBatch</a></div><div class="ttdoc">A batch (a group) of guests riding together. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00054">guest_batches.h:54</a></div></div>
<div class="ttc" id="classShopType_html"><div class="ttname"><a href="classShopType.html">ShopType</a></div><div class="ttdoc">A &#39;ride&#39; where you can buy food, drinks, and other stuff you need for a visit. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00022">shop_type.h:22</a></div></div>
<div class="ttc" id="ride__type_8h_html_a7db2980a108b7cb683f55e882cdb1431a9d8795ddfa2f992283b00cf936b21517"><div class="ttname"><a href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431a9d8795ddfa2f992283b00cf936b21517">RER_DONE</a></div><div class="ttdoc">Entry is given, and visit is immediately done. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00127">ride_type.h:127</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba01fdd13e502d6b0befebb5714926967e"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba01fdd13e502d6b0befebb5714926967e">ITP_NOTHING</a></div><div class="ttdoc">Dummy item to denote nothing can be bought. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00054">ride_type.h:54</a></div></div>
<div class="ttc" id="classRcdFileReader_html"><div class="ttname"><a href="classRcdFileReader.html">RcdFileReader</a></div><div class="ttdoc">Class for reading an RCD file. </div><div class="ttdef"><b>Definition:</b> <a href="fileio_8h_source.html#l00047">fileio.h:47</a></div></div>
<div class="ttc" id="classRecolouring_html_a2377374d108a0abc354d21e5ef3b50ee"><div class="ttname"><a href="classRecolouring.html#a2377374d108a0abc354d21e5ef3b50ee">Recolouring::Set</a></div><div class="ttdeci">void Set(int index, const RecolourEntry &amp;entry)</div><div class="ttdoc">Copy a recolour entry into the recolouring. </div><div class="ttdef"><b>Definition:</b> <a href="palette_8cpp_source.html#l00137">palette.cpp:137</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba2e5b7e0dc918ef11f7ae3d12b0d9148c"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba2e5b7e0dc918ef11f7ae3d12b0d9148c">ITP_PARK_MAP</a></div><div class="ttdoc">Map of the park, may improve finding the attractions. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00061">ride_type.h:61</a></div></div>
<div class="ttc" id="classShopType_html_a5266ed9585a435648f9e3092c2834a2c"><div class="ttname"><a href="classShopType.html#a5266ed9585a435648f9e3092c2834a2c">ShopType::GetView</a></div><div class="ttdeci">const ImageData * GetView(uint8 orientation) const override</div><div class="ttdoc">Get a display of the ride type for the purchase screen. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00035">shop_type.cpp:35</a></div></div>
<div class="ttc" id="classRideType_html_a1eaebd6b26d7c8f719d176f7930a6f16"><div class="ttname"><a href="classRideType.html#a1eaebd6b26d7c8f719d176f7930a6f16">RideType::GetView</a></div><div class="ttdeci">virtual const ImageData * GetView(uint8 orientation) const =0</div><div class="ttdoc">Get a display of the ride type for the purchase screen. </div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66baf21184b1c173503ffe249e3aed05b4f9"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66baf21184b1c173503ffe249e3aed05b4f9">ITP_SOUVENIR</a></div><div class="ttdoc">Souvenir of the park. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00062">ride_type.h:62</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba4c685f57abb138b1fe72a112c6738d8c"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba4c685f57abb138b1fe72a112c6738d8c">ITP_ICE_CREAM</a></div><div class="ttdoc">Ice cream (a drink that can be eaten). </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00056">ride_type.h:56</a></div></div>
<div class="ttc" id="ride__type_8h_html_a7db2980a108b7cb683f55e882cdb1431"><div class="ttname"><a href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431">RideEntryResult</a></div><div class="ttdeci">RideEntryResult</div><div class="ttdoc">Answers of RideInstance::EnterRide. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00124">ride_type.h:124</a></div></div>
<div class="ttc" id="classRideType_html_a6d5abcfa5aa8e062dde693b24d5aef07"><div class="ttname"><a href="classRideType.html#a6d5abcfa5aa8e062dde693b24d5aef07">RideType::recolours</a></div><div class="ttdeci">Recolouring recolours</div><div class="ttdoc">Sprite recolour map. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00083">ride_type.h:83</a></div></div>
<div class="ttc" id="structGuestBatch_html_ac15f7bc0293f2a1c1be71c34e578bae9"><div class="ttname"><a href="structGuestBatch.html#ac15f7bc0293f2a1c1be71c34e578bae9">GuestBatch::state</a></div><div class="ttdeci">BatchState state</div><div class="ttdoc">State of the batch. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00056">guest_batches.h:56</a></div></div>
<div class="ttc" id="classShopInstance_html_ad0c5521dfd5b465bf596419c1f556b9b"><div class="ttname"><a href="classShopInstance.html#ad0c5521dfd5b465bf596419c1f556b9b">ShopInstance::onride_guests</a></div><div class="ttdeci">OnRideGuests onride_guests</div><div class="ttdoc">Guests in the ride. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00061">shop_type.h:61</a></div></div>
<div class="ttc" id="sprite__store_8h_html_a88932b0cbbb95cd50df52f1aa1db5aec"><div class="ttname"><a href="sprite__store_8h.html#a88932b0cbbb95cd50df52f1aa1db5aec">ImageMap</a></div><div class="ttdeci">std::map&lt; uint32, ImageData * &gt; ImageMap</div><div class="ttdoc">Map of loaded image data blocks. </div><div class="ttdef"><b>Definition:</b> <a href="sprite__store_8h_source.html#l00042">sprite_store.h:42</a></div></div>
<div class="ttc" id="classShopType_html_a9e73bbca06f68b19af0901f17613f946"><div class="ttname"><a href="classShopType.html#a9e73bbca06f68b19af0901f17613f946">ShopType::views</a></div><div class="ttdeci">ImageData * views[4]</div><div class="ttdoc">64 pixel wide shop graphics. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00038">shop_type.h:38</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba49d60fedcf69b0d73760393e2f58ea53"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba49d60fedcf69b0d73760393e2f58ea53">ITP_TOILET</a></div><div class="ttdoc">Dropping of waste. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00064">ride_type.h:64</a></div></div>
<div class="ttc" id="stdafx_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="stdafx_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdoc">Unsigned 32 bit wide data type. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00134">stdafx.h:134</a></div></div>
<div class="ttc" id="structGuestBatch_html_a01a6af8dfdbaa56d5c37becc9273f38c"><div class="ttname"><a href="structGuestBatch.html#a01a6af8dfdbaa56d5c37becc9273f38c">GuestBatch::guests</a></div><div class="ttdeci">std::vector&lt; GuestData &gt; guests</div><div class="ttdoc">Guests in the batch. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00055">guest_batches.h:55</a></div></div>
<div class="ttc" id="classOnRideGuests_html_a7f8edbbbaf7d977a5b7a6fa6e532f0bb"><div class="ttname"><a href="classOnRideGuests.html#a7f8edbbbaf7d977a5b7a6fa6e532f0bb">OnRideGuests::GetFinishedBatch</a></div><div class="ttdeci">int GetFinishedBatch(int start=-1)</div><div class="ttdoc">Get a batch that has finished the ride. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00112">guest_batches.h:112</a></div></div>
<div class="ttc" id="structGuestData_html_ace778f3a11090c3a6b7c777c9a030e81"><div class="ttname"><a href="structGuestData.html#ace778f3a11090c3a6b7c777c9a030e81">GuestData::guest</a></div><div class="ttdeci">int guest</div><div class="ttdoc">Number of the guest. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00027">guest_batches.h:27</a></div></div>
<div class="ttc" id="geometry_8h_html_ad44b56387be4716a93eb09e15466703d"><div class="ttname"><a href="geometry_8h.html#ad44b56387be4716a93eb09e15466703d">XYZPoint32</a></div><div class="ttdeci">XYZPoint&lt; int32 &gt; XYZPoint32</div><div class="ttdoc">32 bit 3D point. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00118">geometry.h:118</a></div></div>
<div class="ttc" id="bitmath_8h_html_ae3acb90f5083b3a0d29065ad12a999ad"><div class="ttname"><a href="bitmath_8h.html#ae3acb90f5083b3a0d29065ad12a999ad">ROL</a></div><div class="ttdeci">static T ROL(const T x, const uint8 n)</div><div class="ttdoc">ROtate x Left by n bits. </div><div class="ttdef"><b>Definition:</b> <a href="bitmath_8h_source.html#l00075">bitmath.h:75</a></div></div>
<div class="ttc" id="stdafx_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="stdafx_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdoc">Unsigned 16 bit wide data type. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00132">stdafx.h:132</a></div></div>
<div class="ttc" id="structGuestData_html_a5ba053bd91a5a6d8f039c01faf1578fc"><div class="ttname"><a href="structGuestData.html#a5ba053bd91a5a6d8f039c01faf1578fc">GuestData::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdoc">Clear the guest information, making the entry free for next use. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8cpp_source.html#l00021">guest_batches.cpp:21</a></div></div>
<div class="ttc" id="classShopInstance_html_ac11be40f1a0d9d13f4cd0596fbf12caf"><div class="ttname"><a href="classShopInstance.html#ac11be40f1a0d9d13f4cd0596fbf12caf">ShopInstance::orientation</a></div><div class="ttdeci">uint8 orientation</div><div class="ttdoc">Orientation of the shop. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00057">shop_type.h:57</a></div></div>
<div class="ttc" id="classRcdFileReader_html_a89183bbdb700245f90e766c1bf3f2a65"><div class="ttname"><a href="classRcdFileReader.html#a89183bbdb700245f90e766c1bf3f2a65">RcdFileReader::GetUInt16</a></div><div class="ttdeci">uint16 GetUInt16()</div><div class="ttdoc">Read an 16 bits unsigned number. </div><div class="ttdef"><b>Definition:</b> <a href="fileio_8cpp_source.html#l00174">fileio.cpp:174</a></div></div>
<div class="ttc" id="ride__type_8h_html_a29c124496a1b1a3fe6e0b4f9bf12ad4b"><div class="ttname"><a href="ride__type_8h.html#a29c124496a1b1a3fe6e0b4f9bf12ad4b">NUMBER_ITEM_TYPES_SOLD</a></div><div class="ttdeci">static const int NUMBER_ITEM_TYPES_SOLD</div><div class="ttdoc">Number of different items that a ride can sell. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00023">ride_type.h:23</a></div></div>
<div class="ttc" id="ride__type_8h_html_aab3029d4a290b11c59df64561465bbc4aaf6fc7882ac56bee372aaa10183a87cc"><div class="ttname"><a href="ride__type_8h.html#aab3029d4a290b11c59df64561465bbc4aaf6fc7882ac56bee372aaa10183a87cc">SHF_ENTRANCE_BITS</a></div><div class="ttdoc">Bit mask for the entrances. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00049">ride_type.h:49</a></div></div>
<div class="ttc" id="classOnRideGuests_html_ab8d05c76988fe43c16d7a07381a3e7e6"><div class="ttname"><a href="classOnRideGuests.html#ab8d05c76988fe43c16d7a07381a3e7e6">OnRideGuests::OnAnimate</a></div><div class="ttdeci">void OnAnimate(int delay)</div><div class="ttdoc">Time has passed, update the remaining times of the running batches. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8cpp_source.html#l00158">guest_batches.cpp:158</a></div></div>
<div class="ttc" id="person_8h_html"><div class="ttname"><a href="person_8h.html">person.h</a></div><div class="ttdoc">Persons in the park. </div></div>
<div class="ttc" id="classShopType_html_a51c574abfadf7dc64f6f54dbf8a3fff1"><div class="ttname"><a href="classShopType.html#a51c574abfadf7dc64f6f54dbf8a3fff1">ShopType::Load</a></div><div class="ttdeci">bool Load(RcdFileReader *rcf_file, const ImageMap &amp;sprites, const TextMap &amp;texts)</div><div class="ttdoc">Load a type of shop from the RCD file. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00079">shop_type.cpp:79</a></div></div>
<div class="ttc" id="classShopInstance_html_ab5a17490adf512fed4b0097d3f238ebd"><div class="ttname"><a href="classShopInstance.html#ab5a17490adf512fed4b0097d3f238ebd">ShopInstance::vox_pos</a></div><div class="ttdeci">XYZPoint16 vox_pos</div><div class="ttdoc">Position of the shop base voxel. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00058">shop_type.h:58</a></div></div>
<div class="ttc" id="classShopInstance_html_a4b96d80aff71233b7add60c01d7d9b36"><div class="ttname"><a href="classShopInstance.html#a4b96d80aff71233b7add60c01d7d9b36">ShopInstance::GetSprites</a></div><div class="ttdeci">void GetSprites(uint16 voxel_number, uint8 orient, const ImageData *sprites[4]) const override</div><div class="ttdoc">Get the sprites to display for the provided voxel number. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00163">shop_type.cpp:163</a></div></div>
<div class="ttc" id="group__map__group_html_gae1beaf14b9effb4a54e82830c7b36616"><div class="ttname"><a href="group__map__group.html#gae1beaf14b9effb4a54e82830c7b36616">_world</a></div><div class="ttdeci">VoxelWorld _world</div><div class="ttdoc">The game world. </div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00027">map.cpp:27</a></div></div>
<div class="ttc" id="classShopInstance_html_ac46d7a6bd7914e4739fdf7b3a3793564"><div class="ttname"><a href="classShopInstance.html#ac46d7a6bd7914e4739fdf7b3a3793564">ShopInstance::OnAnimate</a></div><div class="ttdeci">void OnAnimate(int delay) override</div><div class="ttdoc">Some time has passed, update the state of the ride. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00239">shop_type.cpp:239</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba4d9b5c90d853a6139a3ee309ad8b5145"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba4d9b5c90d853a6139a3ee309ad8b5145">ITP_FIRST_AID</a></div><div class="ttdoc">Nausea treatment. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00065">ride_type.h:65</a></div></div>
<div class="ttc" id="classRcdFileReader_html_af38ae8760a8cd11ae82f099acb72273a"><div class="ttname"><a href="classRcdFileReader.html#af38ae8760a8cd11ae82f099acb72273a">RcdFileReader::GetInt32</a></div><div class="ttdeci">int32 GetInt32()</div><div class="ttdoc">Read an 32 bits signed number. </div><div class="ttdef"><b>Definition:</b> <a href="fileio_8cpp_source.html#l00207">fileio.cpp:207</a></div></div>
<div class="ttc" id="classRideType_html_ac6d03d2147da82c3c56b41ed6a2feba1"><div class="ttname"><a href="classRideType.html#ac6d03d2147da82c3c56b41ed6a2feba1">RideType::monthly_open_cost</a></div><div class="ttdeci">Money monthly_open_cost</div><div class="ttdoc">Monthly extra costs if the ride is opened. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00080">ride_type.h:80</a></div></div>
<div class="ttc" id="classShopType_html_acb07a93f5bb7ae48eac8d9ba7ab38abf"><div class="ttname"><a href="classShopType.html#acb07a93f5bb7ae48eac8d9ba7ab38abf">ShopType::CreateInstance</a></div><div class="ttdeci">RideInstance * CreateInstance() const override</div><div class="ttdoc">Construct a ride instance of the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00040">shop_type.cpp:40</a></div></div>
<div class="ttc" id="classRcdFileReader_html_acc10d042cc834e8066ea482d96099b7f"><div class="ttname"><a href="classRcdFileReader.html#acc10d042cc834e8066ea482d96099b7f">RcdFileReader::size</a></div><div class="ttdeci">uint32 size</div><div class="ttdoc">Data size of the last found block (with ReadBlockHeader). </div><div class="ttdef"><b>Definition:</b> <a href="fileio_8h_source.html#l00069">fileio.h:69</a></div></div>
<div class="ttc" id="language_8cpp_html_a84f8cd51a85dd287a5bc696a48b8c9b1"><div class="ttname"><a href="language_8cpp.html#a84f8cd51a85dd287a5bc696a48b8c9b1">_language</a></div><div class="ttdeci">Language _language</div><div class="ttdoc">Language strings. </div><div class="ttdef"><b>Definition:</b> <a href="language_8cpp_source.html#l00025">language.cpp:25</a></div></div>
<div class="ttc" id="stdafx_8h_html"><div class="ttname"><a href="stdafx_8h.html">stdafx.h</a></div><div class="ttdoc">Common type and macro definitions. </div></div>
<div class="ttc" id="people_8cpp_html_a1b1655e98ce1397c843e98b36d94ddf5"><div class="ttname"><a href="people_8cpp.html#a1b1655e98ce1397c843e98b36d94ddf5">_guests</a></div><div class="ttdeci">Guests _guests</div><div class="ttdoc">Guests in the world/park. </div><div class="ttdef"><b>Definition:</b> <a href="people_8cpp_source.html#l00023">people.cpp:23</a></div></div>
<div class="ttc" id="classRideInstance_html_add13524a480df7c50acbb55f2a23d918"><div class="ttname"><a href="classRideInstance.html#add13524a480df7c50acbb55f2a23d918">RideInstance::state</a></div><div class="ttdeci">uint8 state</div><div class="ttdoc">State of the instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00164">ride_type.h:164</a></div></div>
<div class="ttc" id="classOnRideGuests_html_aec2e7a906875e06e8347139a353e86db"><div class="ttname"><a href="classOnRideGuests.html#aec2e7a906875e06e8347139a353e86db">OnRideGuests::num_batches</a></div><div class="ttdeci">int num_batches</div><div class="ttdoc">Number of batches in the ride. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00131">guest_batches.h:131</a></div></div>
<div class="ttc" id="language_8h_html_ad036a1e65b4bdd8fae40d77d7324512aa942647b68e5a28d558a5453961acc5f2"><div class="ttname"><a href="language_8h.html#ad036a1e65b4bdd8fae40d77d7324512aa942647b68e5a28d558a5453961acc5f2">STR_INVALID</a></div><div class="ttdoc">Invalid string. </div><div class="ttdef"><b>Definition:</b> <a href="language_8h_source.html#l00055">language.h:55</a></div></div>
<div class="ttc" id="structXYZPoint_html"><div class="ttname"><a href="structXYZPoint.html">XYZPoint&lt; int16 &gt;</a></div></div>
<div class="ttc" id="classRcdFileReader_html_af340eb3acbef83179fcce42c8b8688ae"><div class="ttname"><a href="classRcdFileReader.html#af340eb3acbef83179fcce42c8b8688ae">RcdFileReader::GetUInt32</a></div><div class="ttdeci">uint32 GetUInt32()</div><div class="ttdoc">Read an 32 bits unsigned number. </div><div class="ttdef"><b>Definition:</b> <a href="fileio_8cpp_source.html#l00196">fileio.cpp:196</a></div></div>
<div class="ttc" id="structXYZPoint_html_aea2c3552caee6e81c3b007ff78834b99"><div class="ttname"><a href="structXYZPoint.html#aea2c3552caee6e81c3b007ff78834b99">XYZPoint::y</a></div><div class="ttdeci">CT y</div><div class="ttdoc">Y coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00101">geometry.h:101</a></div></div>
<div class="ttc" id="group__map__group_html_ga29bb8f9503c34074bad3c762c92ee68b"><div class="ttname"><a href="group__map__group.html#ga29bb8f9503c34074bad3c762c92ee68b">TileEdge</a></div><div class="ttdeci">TileEdge</div><div class="ttdoc">Edges of a tile, starts at NE direction, and rotates clockwise. </div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00117">tile.h:117</a></div></div>
<div class="ttc" id="classGuest_html"><div class="ttname"><a href="classGuest.html">Guest</a></div><div class="ttdoc">Guests walking around in the world. </div><div class="ttdef"><b>Definition:</b> <a href="person_8h_source.html#l00166">person.h:166</a></div></div>
<div class="ttc" id="classShopInstance_html_a7b1d54b9e537ae62463c947d66d5aa02"><div class="ttname"><a href="classShopInstance.html#a7b1d54b9e537ae62463c947d66d5aa02">ShopInstance::GetEntranceDirections</a></div><div class="ttdeci">uint8 GetEntranceDirections(const XYZPoint16 &amp;vox) const override</div><div class="ttdoc">Get the set edges with an entrance to the ride. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00186">shop_type.cpp:186</a></div></div>
<div class="ttc" id="classRideInstance_html_a7268317ec7b9e3d707f75267ec85db57"><div class="ttname"><a href="classRideInstance.html#a7268317ec7b9e3d707f75267ec85db57">RideInstance::flags</a></div><div class="ttdeci">uint8 flags</div><div class="ttdoc">Flags of the instance. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00165">ride_type.h:165</a></div></div>
<div class="ttc" id="classShopType_html_a64c26c941f2388f00511a2fffd18780b"><div class="ttname"><a href="classShopType.html#a64c26c941f2388f00511a2fffd18780b">ShopType::GetInstanceNames</a></div><div class="ttdeci">const StringID * GetInstanceNames() const override</div><div class="ttdoc">Get the instance base names of rides. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00130">shop_type.cpp:130</a></div></div>
<div class="ttc" id="structGuestData_html"><div class="ttname"><a href="structGuestData.html">GuestData</a></div><div class="ttdoc">Data of a guest in a ride. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00024">guest_batches.h:24</a></div></div>
<div class="ttc" id="fileio_8h_html"><div class="ttname"><a href="fileio_8h.html">fileio.h</a></div><div class="ttdoc">File IO declarations. </div></div>
<div class="ttc" id="classShopType_html_aaf9ff3772a3b81fb9b851756e97b6c1f"><div class="ttname"><a href="classShopType.html#aaf9ff3772a3b81fb9b851756e97b6c1f">ShopType::flags</a></div><div class="ttdeci">uint8 flags</div><div class="ttdoc">Shop flags. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00035">shop_type.h:35</a></div></div>
<div class="ttc" id="classGuest_html_a91a0836b65be2e7b42bf919b871154fb"><div class="ttname"><a href="classGuest.html#a91a0836b65be2e7b42bf919b871154fb">Guest::ExitRide</a></div><div class="ttdeci">void ExitRide(RideInstance *ri, TileEdge entry)</div><div class="ttdoc">Exit the ride, and continue walking in the park. </div><div class="ttdef"><b>Definition:</b> <a href="person_8cpp_source.html#l00448">person.cpp:448</a></div></div>
<div class="ttc" id="ride__type_8h_html_aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d"><div class="ttname"><a href="ride__type_8h.html#aa45d92b6242a5e33751fac9a278eff78acc2c1f157730bc604b92fe344608df5d">RIS_ALLOCATED</a></div><div class="ttdoc">Ride instance is allocated but not yet in play. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00102">ride_type.h:102</a></div></div>
<div class="ttc" id="classShopInstance_html_ab12938d435acf21ebcd54a60e93ee402"><div class="ttname"><a href="classShopInstance.html#ab12938d435acf21ebcd54a60e93ee402">ShopInstance::SetRide</a></div><div class="ttdeci">void SetRide(uint8 orientation, const XYZPoint16 &amp;pos)</div><div class="ttdoc">Update a ride instance with its position in the world. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00176">shop_type.cpp:176</a></div></div>
<div class="ttc" id="language_8h_html_ac1457acec7f744ff89fd1be295092a4b"><div class="ttname"><a href="language_8h.html#ac1457acec7f744ff89fd1be295092a4b">StringID</a></div><div class="ttdeci">uint16 StringID</div><div class="ttdoc">Type of a string value. </div><div class="ttdef"><b>Definition:</b> <a href="language_8h_source.html#l00062">language.h:62</a></div></div>
<div class="ttc" id="classShopInstance_html_adcf705be2f439877bb4804ba73e9ec57"><div class="ttname"><a href="classShopInstance.html#adcf705be2f439877bb4804ba73e9ec57">ShopInstance::GetShopType</a></div><div class="ttdeci">const ShopType * GetShopType() const </div><div class="ttdoc">Get the shop type of the ride. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00157">shop_type.cpp:157</a></div></div>
<div class="ttc" id="structGuestBatch_html_aa87f17cfac340bc45cd6cc490a6962c4"><div class="ttname"><a href="structGuestBatch.html#aa87f17cfac340bc45cd6cc490a6962c4">GuestBatch::AddGuest</a></div><div class="ttdeci">bool AddGuest(int guest, TileEdge entry)</div><div class="ttdoc">Try to add a guest into the batch. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8cpp_source.html#l00073">guest_batches.cpp:73</a></div></div>
<div class="ttc" id="classRideType_html"><div class="ttname"><a href="classRideType.html">RideType</a></div><div class="ttdoc">Base class of ride types. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00069">ride_type.h:69</a></div></div>
<div class="ttc" id="structRecolourEntry_html"><div class="ttname"><a href="structRecolourEntry.html">RecolourEntry</a></div><div class="ttdoc">A recolour entry, defining a source colour range to replace with the dest colour range, where dest must be in dest_set. </div><div class="ttdef"><b>Definition:</b> <a href="palette_8h_source.html#l00271">palette.h:271</a></div></div>
<div class="ttc" id="stdafx_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="stdafx_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdoc">Unsigned 8 bit wide data type. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00130">stdafx.h:130</a></div></div>
<div class="ttc" id="sprite__store_8cpp_html_a66642f688701c1314d3a395b58e9b9c5"><div class="ttname"><a href="sprite__store_8cpp.html#a66642f688701c1314d3a395b58e9b9c5">LoadTextFromFile</a></div><div class="ttdeci">bool LoadTextFromFile(RcdFileReader *rcd_file, const TextMap &amp;texts, TextData **txt)</div><div class="ttdoc">Get a text reference from the rcd_file, retrieve the corresponding text data, and put it in the txt d...</div><div class="ttdef"><b>Definition:</b> <a href="sprite__store_8cpp_source.html#l00276">sprite_store.cpp:276</a></div></div>
<div class="ttc" id="language_8h_html_ad036a1e65b4bdd8fae40d77d7324512aa13d88bd9d76aba82257ab66f831f0d45"><div class="ttname"><a href="language_8h.html#ad036a1e65b4bdd8fae40d77d7324512aa13d88bd9d76aba82257ab66f831f0d45">STR_GENERIC_SHOP_START</a></div><div class="ttdoc">Generic shop strings, translated to &#39;real&#39; string numbers by each shop type object by means of the Ri...</div><div class="ttdef"><b>Definition:</b> <a href="language_8h_source.html#l00046">language.h:46</a></div></div>
<div class="ttc" id="shop__type_8cpp_html_ace1813a1ffcd88d2994a131ad7c23d34"><div class="ttname"><a href="shop__type_8cpp.html#ace1813a1ffcd88d2994a131ad7c23d34">TOILET_TIME</a></div><div class="ttdeci">static const int TOILET_TIME</div><div class="ttdoc">Duration of visiting the toilet. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00021">shop_type.cpp:21</a></div></div>
<div class="ttc" id="classOnRideGuests_html_a1e228491f79ba239a467bae3f9097c1f"><div class="ttname"><a href="classOnRideGuests.html#a1e228491f79ba239a467bae3f9097c1f">OnRideGuests::GetFreeBatch</a></div><div class="ttdeci">int GetFreeBatch(int start=-1)</div><div class="ttdoc">Get an empty batch. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00092">guest_batches.h:92</a></div></div>
<div class="ttc" id="classShopType_html_aeec1e71debdfda40fe02ddbc62322037"><div class="ttname"><a href="classShopType.html#aeec1e71debdfda40fe02ddbc62322037">ShopType::height</a></div><div class="ttdeci">int8 height</div><div class="ttdoc">Number of voxels used by this shop. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00034">shop_type.h:34</a></div></div>
<div class="ttc" id="ride__type_8h_html_a7920a38ef1d6024ec5d65be22d0c3d6ea601a3d6676990bba5aa8efaf582f5bad"><div class="ttname"><a href="ride__type_8h.html#a7920a38ef1d6024ec5d65be22d0c3d6ea601a3d6676990bba5aa8efaf582f5bad">RTK_SHOP</a></div><div class="ttdoc">Ride type allows buying useful stuff. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00034">ride_type.h:34</a></div></div>
<div class="ttc" id="classRcdFileReader_html_a80f7d60ee982feea0deb0019d109f166"><div class="ttname"><a href="classRcdFileReader.html#a80f7d60ee982feea0deb0019d109f166">RcdFileReader::version</a></div><div class="ttdeci">uint32 version</div><div class="ttdoc">Version number of the last found block (with ReadBlockHeader). </div><div class="ttdef"><b>Definition:</b> <a href="fileio_8h_source.html#l00068">fileio.h:68</a></div></div>
<div class="ttc" id="classShopInstance_html_a62cecc0440780d615a3c78338b6e8799"><div class="ttname"><a href="classShopInstance.html#a62cecc0440780d615a3c78338b6e8799">ShopInstance::RemoveAllPeople</a></div><div class="ttdeci">void RemoveAllPeople() override</div><div class="ttdoc">Immediately remove all guests and staff which is inside the ride. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00222">shop_type.cpp:222</a></div></div>
<div class="ttc" id="classRcdFileReader_html_aa3ac193cae3b6220820e5872e9b2e861"><div class="ttname"><a href="classRcdFileReader.html#aa3ac193cae3b6220820e5872e9b2e861">RcdFileReader::GetUInt8</a></div><div class="ttdeci">uint8 GetUInt8()</div><div class="ttdoc">Read an 8 bits unsigned number. </div><div class="ttdef"><b>Definition:</b> <a href="fileio_8cpp_source.html#l00153">fileio.cpp:153</a></div></div>
<div class="ttc" id="ride__type_8h_html_a7db2980a108b7cb683f55e882cdb1431ac147ce2a7fbd640a26ba442669268937"><div class="ttname"><a href="ride__type_8h.html#a7db2980a108b7cb683f55e882cdb1431ac147ce2a7fbd640a26ba442669268937">RER_ENTERED</a></div><div class="ttdoc">Entry is given, the guest is staying inside the ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00126">ride_type.h:126</a></div></div>
<div class="ttc" id="classShopInstance_html_ae451f7291524c72d1d852e649d9e6f6c"><div class="ttname"><a href="classShopInstance.html#ae451f7291524c72d1d852e649d9e6f6c">ShopInstance::GetExit</a></div><div class="ttdeci">XYZPoint32 GetExit(int guest, TileEdge entry_edge) override</div><div class="ttdoc">Get the exit coordinates of the ride, is near the middle of a tile edge. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00214">shop_type.cpp:214</a></div></div>
<div class="ttc" id="classVoxelWorld_html_aa6c9196b8ab77fea05827e90979f6fa2"><div class="ttname"><a href="classVoxelWorld.html#aa6c9196b8ab77fea05827e90979f6fa2">VoxelWorld::GetTileOwner</a></div><div class="ttdeci">TileOwner GetTileOwner(uint16 x, uint16 y)</div><div class="ttdoc">Get the ownership of a tile. </div><div class="ttdef"><b>Definition:</b> <a href="map_8cpp_source.html#l00482">map.cpp:482</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba1afec2d70a9f0ab227f8438216a00d59"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba1afec2d70a9f0ab227f8438216a00d59">ITP_UMBRELLA</a></div><div class="ttdoc">Umbrella against the rain. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00059">ride_type.h:59</a></div></div>
<div class="ttc" id="classRideType_html_acf5f7d1b00f5303570472b4c178433b2"><div class="ttname"><a href="classRideType.html#acf5f7d1b00f5303570472b4c178433b2">RideType::kind</a></div><div class="ttdeci">const RideTypeKind kind</div><div class="ttdoc">Kind of ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00078">ride_type.h:78</a></div></div>
<div class="ttc" id="sprite__store_8h_html_abc2cb6800cfaa28d8beab04eb7f570e2"><div class="ttname"><a href="sprite__store_8h.html#abc2cb6800cfaa28d8beab04eb7f570e2">TextMap</a></div><div class="ttdeci">std::map&lt; uint32, TextData * &gt; TextMap</div><div class="ttdoc">Map of loaded text blocks. </div><div class="ttdef"><b>Definition:</b> <a href="sprite__store_8h_source.html#l00057">sprite_store.h:57</a></div></div>
<div class="ttc" id="map_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div><div class="ttdoc">Definition of voxels in the world. </div></div>
<div class="ttc" id="structPoint_html"><div class="ttname"><a href="structPoint.html">Point&lt; int16 &gt;</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66bad7d68c8e9b2dfff50e415352049f8b52"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66bad7d68c8e9b2dfff50e415352049f8b52">ITP_DRINK</a></div><div class="ttdoc">A drink in a cup. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00055">ride_type.h:55</a></div></div>
<div class="ttc" id="classRideType_html_a7ffa6cbcc4f38daed727cf44bab8fb29"><div class="ttname"><a href="classRideType.html#a7ffa6cbcc4f38daed727cf44bab8fb29">RideType::item_type</a></div><div class="ttdeci">ItemType item_type[NUMBER_ITEM_TYPES_SOLD]</div><div class="ttdoc">Type of items being sold. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00081">ride_type.h:81</a></div></div>
<div class="ttc" id="classRideType_html_a59b58992271c0a0d94fa6a484446f1f8"><div class="ttname"><a href="classRideType.html#a59b58992271c0a0d94fa6a484446f1f8">RideType::SetupStrings</a></div><div class="ttdeci">void SetupStrings(TextData *text, StringID base, StringID start, StringID end, StringID name, StringID desc)</div><div class="ttdoc">Setup the the strings of the ride type. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8cpp_source.html#l00103">ride_type.cpp:103</a></div></div>
<div class="ttc" id="shop__type_8h_html"><div class="ttname"><a href="shop__type_8h.html">shop_type.h</a></div><div class="ttdoc">Shops. </div></div>
<div class="ttc" id="stdafx_8h_html_ae72e6e2ae552a721f8916813a92f723b"><div class="ttname"><a href="stdafx_8h.html#ae72e6e2ae552a721f8916813a92f723b">lengthof</a></div><div class="ttdeci">#define lengthof(x)</div><div class="ttdoc">Return the length of an fixed size array. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00157">stdafx.h:157</a></div></div>
<div class="ttc" id="stdafx_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="stdafx_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdoc">Unsigned integer data type. </div><div class="ttdef"><b>Definition:</b> <a href="stdafx_8h_source.html#l00119">stdafx.h:119</a></div></div>
<div class="ttc" id="classShopInstance_html_a8ea7cf63257759688d238eb4c57d7650"><div class="ttname"><a href="classShopInstance.html#a8ea7cf63257759688d238eb4c57d7650">ShopInstance::ShopInstance</a></div><div class="ttdeci">ShopInstance(const ShopType *type)</div><div class="ttdoc">Constructor of a shop &#39;ride&#39;. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00140">shop_type.cpp:140</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66baa8d9ba621a5d756b7e04707cc6ff1300"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66baa8d9ba621a5d756b7e04707cc6ff1300">ITP_SALTY_FOOD</a></div><div class="ttdoc">&#39;salty&#39; food, makes thirsty. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00058">ride_type.h:58</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66babd3f302380d871d6d8b49f7caa1fa0f9"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66babd3f302380d871d6d8b49f7caa1fa0f9">ITP_BALLOON</a></div><div class="ttdoc">Balloon. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00060">ride_type.h:60</a></div></div>
<div class="ttc" id="classGuests_html_a30760025c5877ec6d00b5e6238f1618e"><div class="ttname"><a href="classGuests.html#a30760025c5877ec6d00b5e6238f1618e">Guests::Get</a></div><div class="ttdeci">Guest * Get(int idx)</div><div class="ttdoc">Get a guest from the array. </div><div class="ttdef"><b>Definition:</b> <a href="people_8h_source.html#l00076">people.h:76</a></div></div>
<div class="ttc" id="structPoint_html_a56c3dcea91f03182921eea9a5cf555a3"><div class="ttname"><a href="structPoint.html#a56c3dcea91f03182921eea9a5cf555a3">Point::y</a></div><div class="ttdeci">CT y</div><div class="ttdoc">Y coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00037">geometry.h:37</a></div></div>
<div class="ttc" id="structGuestBatch_html_ac8e67a088bcd1b2256da88dd336d09e6"><div class="ttname"><a href="structGuestBatch.html#ac8e67a088bcd1b2256da88dd336d09e6">GuestBatch::Start</a></div><div class="ttdeci">void Start(int ride_time)</div><div class="ttdoc">Start the ride (make it BST_RUNNING). </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8cpp_source.html#l00088">guest_batches.cpp:88</a></div></div>
<div class="ttc" id="classTextData_html"><div class="ttname"><a href="classTextData.html">TextData</a></div><div class="ttdoc">Texts of objects. </div><div class="ttdef"><b>Definition:</b> <a href="sprite__store_8h_source.html#l00045">sprite_store.h:45</a></div></div>
<div class="ttc" id="classShopType_html_ab70519c7c252449cc3adddacb9980227"><div class="ttname"><a href="classShopType.html#ab70519c7c252449cc3adddacb9980227">ShopType::GetRideCapacity</a></div><div class="ttdeci">int GetRideCapacity() const </div><div class="ttdoc">Compute the capacity of onride guests in the shop. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00122">shop_type.cpp:122</a></div></div>
<div class="ttc" id="classShopInstance_html"><div class="ttname"><a href="classShopInstance.html">ShopInstance</a></div><div class="ttdoc">Shop &#39;ride&#39;. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8h_source.html#l00042">shop_type.h:42</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66b"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66b">ItemType</a></div><div class="ttdeci">ItemType</div><div class="ttdoc">Type of items that can be bought. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00053">ride_type.h:53</a></div></div>
<div class="ttc" id="classImageData_html"><div class="ttname"><a href="classImageData.html">ImageData</a></div><div class="ttdoc">Image data of 8bpp images. </div><div class="ttdef"><b>Definition:</b> <a href="sprite__data_8h_source.html#l00028">sprite_data.h:28</a></div></div>
<div class="ttc" id="classRideType_html_af0934af452c487e044af57bd7369efe3"><div class="ttname"><a href="classRideType.html#af0934af452c487e044af57bd7369efe3">RideType::monthly_cost</a></div><div class="ttdeci">Money monthly_cost</div><div class="ttdoc">Monthly costs for owning a ride. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00079">ride_type.h:79</a></div></div>
<div class="ttc" id="tile_8h_html_ae90e8f9348886287b4d15f3dc00cc7f1"><div class="ttname"><a href="tile_8h.html#ae90e8f9348886287b4d15f3dc00cc7f1">_exit_dxy</a></div><div class="ttdeci">const Point16 _exit_dxy[EDGE_COUNT]</div><div class="ttdoc">Pixel position for a guest exiting a ride exit, relative to the base position of the exit voxel of th...</div><div class="ttdef"><b>Definition:</b> <a href="tile__func_8cpp_source.html#l00040">tile_func.cpp:40</a></div></div>
<div class="ttc" id="guest__batches_8h_html_a23c1df06ce45721ee01fd8560846ce9bab4d4d9a41fae745af1407ce80ba0abb4"><div class="ttname"><a href="guest__batches_8h.html#a23c1df06ce45721ee01fd8560846ce9bab4d4d9a41fae745af1407ce80ba0abb4">BST_EMPTY</a></div><div class="ttdoc">Batch is free. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00045">guest_batches.h:45</a></div></div>
<div class="ttc" id="classRideInstance_html"><div class="ttname"><a href="classRideInstance.html">RideInstance</a></div><div class="ttdoc">A ride in the park. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00134">ride_type.h:134</a></div></div>
<div class="ttc" id="classOnRideGuests_html_ab670b8a1617be245f51df0cb01126c98"><div class="ttname"><a href="classOnRideGuests.html#ab670b8a1617be245f51df0cb01126c98">OnRideGuests::GetBatch</a></div><div class="ttdeci">GuestBatch &amp; GetBatch(int index)</div><div class="ttdoc">Get a batch of guests. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00082">guest_batches.h:82</a></div></div>
<div class="ttc" id="structGuestData_html_a22430634fd38b9799c04c628f0442653"><div class="ttname"><a href="structGuestData.html#a22430634fd38b9799c04c628f0442653">GuestData::entry</a></div><div class="ttdeci">TileEdge entry</div><div class="ttdoc">Direction of entry of the guest at the ride, INVALID_EDGE for a non-used entry. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00028">guest_batches.h:28</a></div></div>
<div class="ttc" id="classRideType_html_a8358959a7c9cb59f7bc5cbc4a4bc6c90"><div class="ttname"><a href="classRideType.html#a8358959a7c9cb59f7bc5cbc4a4bc6c90">RideType::item_cost</a></div><div class="ttdeci">Money item_cost[NUMBER_ITEM_TYPES_SOLD]</div><div class="ttdoc">Cost of the items on sale. </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00082">ride_type.h:82</a></div></div>
<div class="ttc" id="shop__type_8cpp_html_a68fbdf29ab29bb2689f889c560cfc176"><div class="ttname"><a href="shop__type_8cpp.html#a68fbdf29ab29bb2689f889c560cfc176">CAPACITY_TOILET</a></div><div class="ttdeci">static const int CAPACITY_TOILET</div><div class="ttdoc">Maximum number of guests that can use the toilet at the same time. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00022">shop_type.cpp:22</a></div></div>
<div class="ttc" id="classOnRideGuests_html_afdb35f742ccacfa575846d740312e9ff"><div class="ttname"><a href="classOnRideGuests.html#afdb35f742ccacfa575846d740312e9ff">OnRideGuests::batches</a></div><div class="ttdeci">std::vector&lt; GuestBatch &gt; batches</div><div class="ttdoc">Batches of guests. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8h_source.html#l00129">guest_batches.h:129</a></div></div>
<div class="ttc" id="classLanguage_html_aa0fc315fd2796b11055e3fc55823ef88"><div class="ttname"><a href="classLanguage.html#aa0fc315fd2796b11055e3fc55823ef88">Language::RegisterStrings</a></div><div class="ttdeci">uint16 RegisterStrings(const TextData &amp;td, const char *const names[], uint16 base=STR_GENERIC_END)</div><div class="ttdoc">Register loaded strings of rides etc. </div><div class="ttdef"><b>Definition:</b> <a href="language_8cpp_source.html#l00210">language.cpp:210</a></div></div>
<div class="ttc" id="structPoint_html_af0836c7f2eec563aa7bc20d8cfa5dd2a"><div class="ttname"><a href="structPoint.html#af0836c7f2eec563aa7bc20d8cfa5dd2a">Point::x</a></div><div class="ttdeci">CT x</div><div class="ttdoc">X coordinate. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00036">geometry.h:36</a></div></div>
<div class="ttc" id="ride__type_8h_html_a443f647757dde85043b49343f5cbe66ba101fa51d8f6f256b96427db756015bc3"><div class="ttname"><a href="ride__type_8h.html#a443f647757dde85043b49343f5cbe66ba101fa51d8f6f256b96427db756015bc3">ITP_MONEY</a></div><div class="ttdoc">Money for more spending (i.e. an ATM). </div><div class="ttdef"><b>Definition:</b> <a href="ride__type_8h_source.html#l00063">ride_type.h:63</a></div></div>
<div class="ttc" id="map_8h_html_a3eb46b16632a09b0b18530aca51dcfe3a9e25c348e5b9bb47b1357ea1fef3bfc1"><div class="ttname"><a href="map_8h.html#a3eb46b16632a09b0b18530aca51dcfe3a9e25c348e5b9bb47b1357ea1fef3bfc1">OWN_PARK</a></div><div class="ttdoc">Tile owned by the park. </div><div class="ttdef"><b>Definition:</b> <a href="map_8h_source.html#l00449">map.h:449</a></div></div>
<div class="ttc" id="classOnRideGuests_html_af2a558599a81ff3acafc3bcfe73b9930"><div class="ttname"><a href="classOnRideGuests.html#af2a558599a81ff3acafc3bcfe73b9930">OnRideGuests::Configure</a></div><div class="ttdeci">void Configure(int batch_size, int num_batches)</div><div class="ttdoc">(Re)configure the ride for the given number of batches and batch size. </div><div class="ttdef"><b>Definition:</b> <a href="guest__batches_8cpp_source.html#l00126">guest_batches.cpp:126</a></div></div>
<div class="ttc" id="classShopInstance_html_a90fc0648370618e2bf99f206dacd51f1"><div class="ttname"><a href="classShopInstance.html#a90fc0648370618e2bf99f206dacd51f1">ShopInstance::EnterRide</a></div><div class="ttdeci">RideEntryResult EnterRide(int guest, TileEdge entry) override</div><div class="ttdoc">The given guest tries to enter the ride. </div><div class="ttdef"><b>Definition:</b> <a href="shop__type_8cpp_source.html#l00194">shop_type.cpp:194</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 25 2015 13:22:40 for FreeRCT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
